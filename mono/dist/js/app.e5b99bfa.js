(function(e){function t(t){for(var o,a,c=t[0],r=t[1],u=t[2],f=0,h=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);l&&l(t);while(h.length)h.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],o=!0,c=1;c<s.length;c++){var r=s[c];0!==n[r]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=s[0]))}return e}var o={},n={app:0},i=[];function a(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=o,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(s,o,function(t){return e[t]}.bind(null,o));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=r;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"3bd9":function(e,t,s){"use strict";s("f885")},"48d1":function(e,t,s){"use strict";s("7f42")},"56d7":function(e,t,s){"use strict";s.r(t);var o=s("7a23");function n(e,t,s,n,i,a){const c=Object(o["g"])("Player");return Object(o["f"])(),Object(o["b"])(c)}const i={class:"root"},a={class:"container-shell"},c={id:"container",ref:"container"},r={class:"input"},u=Object(o["e"])("div",null,"地址：",-1),l={type:"input",autocomplete:"on",ref:"host",value:"https://123.60.149.38:18080"},f=Object(o["e"])("div",null,"设备ID：",-1),h={type:"input",autocomplete:"on",ref:"deviceId",value:"34020000001110000001"},d=Object(o["e"])("div",null,"通道ID：",-1),p={type:"input",autocomplete:"on",ref:"channelId",value:"34020000001310000001"},b={key:0,class:"input",style:{"line-height":"30px"}},j=Object(o["e"])("div",null,"流媒体地址：",-1);function g(e,t,s,n,g,v){return Object(o["f"])(),Object(o["d"])("div",i,[Object(o["e"])("div",a,[Object(o["e"])("div",c,null,512),Object(o["e"])("div",r,[u,Object(o["e"])("input",l,null,512),f,Object(o["e"])("input",h,null,512),d,Object(o["e"])("input",p,null,512),g.playing?(Object(o["f"])(),Object(o["d"])("button",{key:1,onClick:t[1]||(t[1]=(...e)=>v.destroy&&v.destroy(...e))},"关闭")):(Object(o["f"])(),Object(o["d"])("button",{key:0,onClick:t[0]||(t[0]=(...e)=>v.play&&v.play(...e))},"播放"))]),g.loaded?(Object(o["f"])(),Object(o["d"])("div",b,[j,Object(o["e"])("span",null,Object(o["h"])(g.playUrl),1)])):Object(o["c"])("",!0)])])}var v={name:"Player",props:{},data(){return{jessibuca:null,version:"",wasm:!1,vc:"ff",playing:!1,quieting:!0,loaded:!1,showOperateBtns:!1,showBandwidth:!1,err:"",speed:0,performance:"",volume:1,rotate:0,useWCS:!1,useMSE:!0,useOffscreen:!1,recording:!1,recordType:"webm",scale:0,playUrl:""}},mounted(){this.create(),window.onerror=e=>this.err=e},unmounted(){this.destroy()},methods:{create(e){e=e||{},this.jessibuca=new window.Jessibuca(Object.assign({container:this.$refs.container,videoBuffer:.2,isResize:!1,useWCS:this.useWCS,useMSE:this.useMSE,text:"",loadingText:"加载中...",debug:!0,supportDblclickFullscreen:!0,showBandwidth:this.showBandwidth,operateBtns:{fullscreen:this.showOperateBtns,screenshot:this.showOperateBtns,play:this.showOperateBtns,audio:this.showOperateBtns},vod:this.vod,forceNoOffscreen:!this.useOffscreen,isNotMute:!0,timeout:10},e));var t=this;this.jessibuca.on("load",(function(){console.log("on load")})),this.jessibuca.on("log",(function(e){console.log("on log",e)})),this.jessibuca.on("record",(function(e){console.log("on record:",e)})),this.jessibuca.on("pause",(function(){console.log("on pause"),t.playing=!1})),this.jessibuca.on("play",(function(){console.log("on play"),t.playing=!0})),this.jessibuca.on("fullscreen",(function(e){console.log("on fullscreen",e)})),this.jessibuca.on("mute",(function(e){console.log("on mute",e),t.quieting=e})),this.jessibuca.on("mute",(function(e){console.log("on mute2",e)})),this.jessibuca.on("audioInfo",(function(e){console.log("audioInfo",e)})),this.jessibuca.on("videoInfo",(function(e){console.log("videoInfo",e)})),this.jessibuca.on("error",(function(e){console.log("error",e)})),this.jessibuca.on("timeout",(function(){console.log("timeout")})),this.jessibuca.on("start",(function(){console.log("frame start")})),this.jessibuca.on("performance",(function(e){var s="卡顿";2===e?s="非常流畅":1===e&&(s="流畅"),t.performance=s})),this.jessibuca.on("buffer",(function(e){console.log("buffer",e)})),this.jessibuca.on("stats",(function(e){console.log("stats",e)})),this.jessibuca.on("kBps",(function(e){console.log("kBps",e)})),this.jessibuca.on("play",()=>{this.playing=!0,this.loaded=!0,this.quieting=this.jessibuca.isMute()}),this.jessibuca.on("recordingTimestamp",e=>{console.log("recordingTimestamp",e)})},play(){var e=this,t=this.$refs.host.value+"/api/demo/play/start/"+this.$refs.deviceId.value+"/"+this.$refs.channelId.value;this.$axios({method:"get",url:t}).then((function(t){console.log(t),0===t.data.code?(e.jessibuca.play(t.data.data.wss_flv),e.playUrl=t.data.data.wss_flv):alert(t.data.msg)})).catch((function(e){console.log(e)}))},mute(){this.jessibuca.mute()},cancelMute(){this.jessibuca.cancelMute()},pause(){this.jessibuca.pause(),this.playing=!1,this.err="",this.performance=""},volumeChange(){this.jessibuca.setVolume(this.volume)},rotateChange(){this.jessibuca.setRotate(this.rotate)},destroy(){var e=this,t=this.$refs.host.value+"/api/demo/play/stop/"+this.$refs.deviceId.value+"/"+this.$refs.channelId.value;this.$axios({method:"get",url:t}).then((function(t){console.log(t),0===t.data.code?(e.jessibuca&&e.jessibuca.destroy(),e.create(),e.playing=!1,e.loaded=!1,e.performance=""):alert(t.data.msg)})).catch((function(e){alert(e),console.log(e)}))},fullscreen(){this.jessibuca.setFullscreen(!0)},clearView(){this.jessibuca.clearView()},startRecord(){const e=(new Date).getTime();this.jessibuca.startRecord(e,this.recordType)},stopAndSaveRecord(){this.jessibuca.stopRecordAndSave()},screenShot(){this.jessibuca.screenshot()},changeBuffer(){this.jessibuca.setBufferTime(Number(this.$refs.buffer.value))},scaleChange(){this.jessibuca.setScaleMode(this.scale)}}},y=(s("48d1"),s("d959")),m=s.n(y);const O=m()(v,[["render",g]]);var w=O,S={name:"App",components:{Player:w}};s("3bd9");const B=m()(S,[["render",n]]);var x=B,I=s("bc3a"),M=s.n(I),k=Object(o["a"])(x);k.mount("#app"),M.a.defaults.withCredentials=!0,k.config.globalProperties.$axios=M.a},"7f42":function(e,t,s){},f885:function(e,t,s){}});
//# sourceMappingURL=app.e5b99bfa.js.map